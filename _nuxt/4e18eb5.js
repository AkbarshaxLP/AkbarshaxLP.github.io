(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{489:function(e,t,o){var content=o(562);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(20).default)("3e803f2f",content,!0,{sourceMap:!1})},490:function(e,t,o){var content=o(564);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(20).default)("3f4ebdb0",content,!0,{sourceMap:!1})},561:function(e,t,o){"use strict";o(489)},562:function(e,t,o){var n=o(19)((function(i){return i[1]}));n.push([e.i,".test-body .help[data-v-4566eea8]{font-style:normal;font-weight:400;font-size:16px;line-height:20px;color:#2ec18c;float:right;margin-bottom:40px}.test-body .question-number[data-v-4566eea8]{margin-top:25px;margin-bottom:10px;font-style:normal;font-weight:700;font-size:18px;line-height:150%;color:#4ede9f}.test-body .seq[data-v-4566eea8]{text-transform:uppercase;width:30px}.test-body .question-title[data-v-4566eea8]{font-style:normal;font-weight:600;font-size:18px;line-height:140%;letter-spacing:.005em;color:#111;margin-bottom:20px;display:block}.test-body .question-content[data-v-4566eea8]{max-width:100%}.test-body .active-option[data-v-4566eea8]{box-shadow:0 2px 5px rgba(255,210,44,.44);border:.5px solid rgba(255,210,44,.44);background:linear-gradient(270deg,hsla(0,0%,69.4%,.3),transparent)!important}.test-body ul li[data-v-4566eea8]{padding:15px 14px 15px 20px;background:#fff;border:.5px solid #bdbdbd;box-sizing:border-box;border-radius:5px;margin-bottom:10px;font-style:normal;font-weight:400;font-size:16px;line-height:140%;color:#333;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex}.line-border[data-v-4566eea8]{background:rgba(0,0,0,.2);width:100%;height:1px}.parrent-card header h1[data-v-4566eea8]{margin-bottom:0}.parrent-card header .right[data-v-4566eea8]{font-style:normal;font-weight:600;font-size:24px;line-height:20px;color:#4ede9f;margin-left:auto}.parrent-card header .right span[data-v-4566eea8]{margin-right:30px}",""]),n.locals={},e.exports=n},563:function(e,t,o){"use strict";o(490)},564:function(e,t,o){var n=o(19)((function(i){return i[1]}));n.push([e.i,".change-number[data-v-4566eea8]{display:flex;justify-content:space-around;padding-top:12px;padding-bottom:10px;font-weight:700;font-size:24px}.change-number .item[data-v-4566eea8]{flex:1;text-align:center}.test-body .help[data-v-4566eea8]{font-style:normal;font-weight:400;font-size:16px;line-height:20px;color:#2ec18c;float:right;margin-bottom:40px}.test-body .question-number[data-v-4566eea8]{margin-top:25px;margin-bottom:10px;font-style:normal;font-weight:700;font-size:18px;line-height:150%;color:#4ede9f}.test-body .seq[data-v-4566eea8]{text-transform:uppercase;width:30px}.test-body .question-title[data-v-4566eea8]{font-style:normal;font-weight:600;font-size:18px;line-height:140%;letter-spacing:.005em;color:#111;margin-bottom:20px;display:block}.test-body .question-content[data-v-4566eea8]{max-width:100%}.test-body .active-option[data-v-4566eea8]{box-shadow:0 2px 5px rgba(255,210,44,.44);border:.5px solid rgba(255,210,44,.44);background:linear-gradient(270deg,hsla(0,0%,69.4%,.3),transparent)!important}.test-body ul li[data-v-4566eea8]{padding:15px 14px 15px 20px;background:#fff;border:.5px solid #bdbdbd;box-sizing:border-box;border-radius:5px;margin-bottom:10px;font-style:normal;font-weight:400;font-size:16px;line-height:140%;color:#333;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex}.line-border[data-v-4566eea8]{background:rgba(0,0,0,.2);width:100%;height:1px}.seq-list[data-v-4566eea8]{display:flex;overflow-x:scroll;margin:0 10px 20px}.seq-list[data-v-4566eea8]::-webkit-scrollbar{display:none}.seq-list li[data-v-4566eea8]{min-width:42px;height:42px;border-radius:50%;background:#f5fcf9;margin:4px;display:flex;align-items:center;justify-content:center;font-style:normal;font-weight:400;font-size:16px;line-height:20px;color:#111;background-color:#fff;border:1px solid #ebebeb}.seq-list li.red[data-v-4566eea8]{background:linear-gradient(207.98deg,#ff6969 20.17%,#ff4a4a 83.97%);color:#fff}.seq-list li.yellow[data-v-4566eea8]{background:linear-gradient(199.13deg,#ffe297 9.59%,#ffcc47 92.43%);color:#fff;border:2px solid #ffe297;box-shadow:1px 0 10px #ffe297}.seq-list li.green[data-v-4566eea8]{background:linear-gradient(245.29deg,#4ede9f .94%,#2cca9a 97.96%);color:#fff}.parrent-card header h1[data-v-4566eea8]{margin-bottom:0}",""]),n.locals={},e.exports=n},627:function(e,t,o){"use strict";o.r(t);o(29),o(190),o(67),o(39),o(9),o(52),o(98),o(46);var n={directives:{swiper:o(192).directive},data:function(){return{test_loaded:!1,error_dialog:!1,error_tip:null,first_enter:!0,textContent:null,current_question:null,alphabet:"abcdefghijklmnopqrstuvwxyz".split(""),loading:!1,test_count:20,current_order:1,form:[],test_list:[],time_out:null,swiperOption:{slidesPerView:1,loop:!1,autoHeight:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1024:{slidesPerView:1,spaceBetween:10},768:{slidesPerView:1,spaceBetween:10},640:{slidesPerView:1,spaceBetween:10},320:{slidesPerView:1,spaceBetween:10}}}}},created:function(){this.getTest()},destroyed:function(){clearInterval(this.time_out)},computed:{selected_options:function(){return this.form.map((function(e){return e.option}))},cur_index:function(){return this.form.map((function(e){return e.question})).indexOf(this.current_question)},currentTest:function(){var e=this,a=this.test_list.filter((function(t){return t.id===e.current_question}))[0];return a||{}}},methods:{focusSeq:function(){var e=document.getElementById("seq_".concat(this.cur_index)),t=e.offsetLeft+e.offsetWidth,o=e.parentNode.offsetLeft+e.parentNode.offsetWidth;t>=o+e.parentNode.scrollLeft?e.parentNode.scrollLeft=t-o:t<=e.parentNode.offsetLeft+e.parentNode.scrollLeft&&(e.parentNode.scrollLeft=e.offsetLeft-e.parentNode.offsetLeft)},slideChanged:function(){var e=this;this.$nextTick((function(){var t=e.mySwiper.activeIndex;console.log(t),e.slideTo(t)}))},updateSlider:function(){var e=this;setTimeout((function(){var t=e.$refs.swiper.swiper.activeIndex;e.current_question=e.test_list[t].id,e.$refs.swiper.swiper.slideTo(t)}))},slideTo:function(e){this.$refs.swiper.swiper.slideTo(e),this.current_question=this.test_list[e].id,this.focusSeq()},next_question:function(e,option){var t=this;setTimeout((function(){var o=t.$route.params.id,data={question:e,option:option};t.loading=!0,t.$axios({method:t.first_enter?"POST":"PATCH",url:"/question_box/".concat(o,"/"),data:data}).then((function(e){t.first_enter=!1,t.test_list.length-1>t.cur_index&&(t.current_question=t.test_list[t.cur_index+1].id);var o=t.$refs.swiper.swiper.activeIndex;console.log(o),t.current_question=t.test_list[o+1].id,t.$refs.swiper.swiper.slideTo(o+1)})).catch((function(e){t.error_dialog=!0,t.error_tip=e.response.data.detail})).finally((function(){t.loading=!1}))}))},endTest:function(){var e=this;this.loading=!0;var t=this.$route.params.id;this.$axios.post("/q".concat(t,"/"),this.form).then((function(t){e.$notify({title:"Qoniqarli!",message:"Javoblaringiz yuborildi",type:"success"});var o=e.$route.query.test_lang,n=e.$route.params.id;e.$router.push("/test/FinalTest/".concat(n,"/check/?lang=").concat(o))})).catch((function(t){var o=t.response.data,n=o[Object.keys(o)[0]];e.$notify.error({message:n||"Xatolik yuz berdi"})})).finally((function(){e.loading=!1}))},getTest:function(){var e=this,t=this.$route.params.id,o=this.$route.query.test_lang;this.loading=!0,this.test_loaded=!1;var n="/question_box/?box_type=final_test&lang=".concat(o,"&teacher_test=").concat(t);this.$axios.get(n).then((function(t){e.startTimer(1500),t.data[0]?(e.test_list=t.data,e.test_loaded=!0,e.current_question=t.data[0].id,e.initForm(),e.$forceUpdate()):e.initForm()})).catch((function(t){e.error_dialog=!0,e.error_tip=t.response.data.detail,e.initForm()})).finally((function(){e.loading=!1}))},initForm:function(){var e=this;this.form=[],this.test_list.filter((function(t){e.form.push({question:t.id,option:null})}))},startTimer:function(e){var t,o,n=this,r=e;this.time_out=setInterval((function(){t=parseInt(r/60,10),o=parseInt(r%60,10),t=t<10?"0"+t:t,o=o<10?"0"+o:o,n.textContent=t+":"+o,--r<0&&(clearInterval(n.time_out),n.endTest())}),1e3)}}},r=(o(561),o(563),o(14)),component=Object(r.a)(n,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main-div block-user-select",staticStyle:{"padding-left":"4px","padding-right":"4px"}},[o("SeqList",{attrs:{current_question:e.current_question,test_list:e.test_list,selected_options:e.selected_options},on:{slideTo:e.slideTo}}),e._v(" "),o("div",{staticClass:"parrent-card",staticStyle:{"padding-top":"0"}},[o("div",{staticClass:"change-number"},[o("div",{staticClass:"item swiper-button-prev",on:{click:e.updateSlider}},[o("i",{staticClass:"el-icon-arrow-left"})]),e._v(" "),o("div",{staticClass:"item swiper-button-next",on:{click:e.updateSlider}},[o("i",{staticClass:"el-icon-arrow-right"})])]),e._v(" "),o("hr",{staticClass:"line-border"}),e._v(" "),e.test_list.length?[e.test_loaded?o("div",[o("div",{directives:[{name:"swiper",rawName:"v-swiper:mySwiper",value:e.swiperOption,expression:"swiperOption",arg:"mySwiper"}],ref:"swiper",staticClass:"test-body",on:{"slide-change":e.slideChanged}},[o("div",{staticClass:"swiper-wrapper"},e._l(e.test_list,(function(t,n){return o("div",{key:n,staticClass:"swiper-slide"},[o("p",{staticClass:"question-number"},[e._v(e._s(n+1)+"-savol")]),e._v(" "),o("span",{staticClass:"question-title"},[e._v(e._s(t.content))]),e._v(" "),o("el-row",{attrs:{gutter:34}},[o("el-col",{staticClass:"pb-4",attrs:{xl:12,md:12,sm:24}},[o("img",{staticClass:"question-content",attrs:{src:t.image}})]),e._v(" "),o("el-col",{attrs:{xl:12,md:12,sm:24}},[o("ul",e._l(t.question_options,(function(t){return o("li",{key:t.id,class:{"active-option":e.form[e.cur_index].option==t.id,green:t.id},on:{click:function(o){e.form[e.cur_index].option=t.id,e.next_question(e.currentTest.id,e.form[e.cur_index].option)}}},[o("span",[e._v(e._s(t.name))]),e._v(" "),e._e(),e._v(" "),e._e()])})),0)])],1)],1)})),0)])]):e._e()]:e._e()],2),e._v(" "),o("el-dialog",{attrs:{"show-close":!1,"close-on-click-modal":!1,visible:e.error_dialog,title:"Xatolik yuz berdi",width:"85%"},on:{"update:visible":function(t){e.error_dialog=t}}},[o("el-result",{attrs:{icon:"error",title:e.error_tip}},[o("template",{slot:"extra"},[o("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.$router.go(-1)}}},[e._v("Ortga qaytish")])],1)],2)],1)],1)}),[],!1,null,"4566eea8",null);t.default=component.exports;installComponents(component,{SeqList:o(194).default})}}]);