(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{502:function(t,e,n){var content=n(588);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(20).default)("38dd0af4",content,!0,{sourceMap:!1})},587:function(t,e,n){"use strict";n(502)},588:function(t,e,n){var r=n(19)((function(i){return i[1]}));r.push([t.i,".add-ques-table td[data-v-3db8007f]{position:relative;padding:5px;vertical-align:top;color:rgba(0,0,0,.5)}.add-ques-table td[data-v-3db8007f]:last-child{width:220px}.add-ques-table .rm-icon[data-v-3db8007f]{position:absolute;right:-5px;top:15px;vertical-align:middle}.test-body .help[data-v-3db8007f]{font-style:normal;font-weight:400;font-size:16px;line-height:20px;color:#2ec18c;float:right;margin-bottom:40px}.test-body .question-number[data-v-3db8007f]{margin-top:25px;margin-bottom:10px;font-style:normal;font-weight:700;font-size:18px;line-height:150%;color:#4ede9f}.test-body .question-title[data-v-3db8007f]{font-style:normal;font-weight:600;font-size:18px;line-height:140%;letter-spacing:.005em;color:#111;margin-bottom:20px;display:block}.test-body .question-content[data-v-3db8007f]{max-width:100%}.test-body ul li[data-v-3db8007f]{background:#fff;box-sizing:border-box;border-radius:5px;margin-bottom:10px;font-style:normal;font-weight:400;font-size:16px;line-height:140%;color:#333;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex}.line-border[data-v-3db8007f]{background:rgba(0,0,0,.2);width:100%;height:1px}.seq-list[data-v-3db8007f]{display:flex;flex-wrap:wrap;margin:29px -5px 25px}.seq-list li[data-v-3db8007f]{width:42px;height:42px;border-radius:50%;background:#f5fcf9;margin:0 5px 10px;display:flex;align-items:center;justify-content:center;font-style:normal;font-weight:400;font-size:16px;line-height:20px;color:#111;transition:all .1s ease-out}.seq-list li.invalid[data-v-3db8007f]{border:1px solid red!important}.seq-list li.red[data-v-3db8007f]{background:linear-gradient(207.98deg,#ff6969 20.17%,#ff4a4a 83.97%);color:#fff}.seq-list li.yellow[data-v-3db8007f]{background:linear-gradient(199.13deg,#ffe297 9.59%,#ffcc47 92.43%);color:#fff}.seq-list li.green[data-v-3db8007f]{background:linear-gradient(245.29deg,#4ede9f .94%,#2cca9a 97.96%);color:#fff}.seq-list li.new[data-v-3db8007f]{opacity:.3}.parrent-card header h1[data-v-3db8007f]{margin-bottom:0}.parrent-card header .right[data-v-3db8007f]{font-style:normal;font-weight:600;font-size:24px;line-height:20px;color:#4ede9f;margin-left:auto}.parrent-card header .right span[data-v-3db8007f]{margin-right:30px}",""]),r.locals={},t.exports=r},642:function(t,e,n){"use strict";n.r(e);n(32),n(64),n(31),n(65);var r=n(34),o=n(23),l=(n(39),n(9),n(280),n(281),n(98),n(46),n(66),n(81));function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={data:function(){return{quesOrders:[],loading:!1,tab:"1",test_count:20,current_order:1,lang_data:{},quesList:[],subjectList:[],form:{language:1,image:"",title:"",content:"",description:"",difficulty_level:1,order:1,question_options:[{video_answer:"",body:"",description:"",status:!0},{video_answer:"",body:"",description:"",status:!1},{video_answer:"",body:"",description:"",status:!1},{video_answer:"",body:"",description:"",status:!1}]}}},created:function(){this.getSubjectList(),this.getQuestionOrders(),this.getTest()},computed:c(c({},Object(l.b)("dictionary",["dic_language"])),{},{invalid_form:function(){var t=this,a=!1;return["subject","language","title","content","description","difficulty_level","order"].filter((function(e){t.form[e]||(a=!0)})),a},invalidIndex:function(){var a=[],i=0,t=!1;return this.quesList.filter((function(e){e.test_answer&&e.subject&&e.image&&e.question_options.length?e.question_options.filter((function(e){e.body||(t=!0)})):t=!0,t&&a.push(i),i++})),a}}),methods:{tabClicked:function(t,e){this.form.language=Number(this.tab),this.getTest()},change_question:function(t){this.current_order=t,this.form.order=t,this.getTest()},rmVariant:function(t){this.form.question_options.splice(t,1)},pushVariant:function(){this.form.question_options.push({video_answer:null,body:null,status:null,description:""})},getTest:function(){var t=this,e=this.$route.params.id;this.loading=!0,this.$axios.get("/question/?science=".concat(e,"&language=").concat(this.tab,"&order=").concat(this.current_order)).then((function(e){e.data.results[0]?(t.form=e.data.results[0],t.$forceUpdate()):t.initForm()})).catch((function(e){t.initForm()})).finally((function(){t.loading=!1}))},save:function(){var t=this,data=this.form;this.$refs.add_question.validate().then((function(e){if(e){t.loading=!0;var n=new FormData;Object.keys(data).filter((function(t){["question_options"].includes(t)||0===String(data[t]).indexOf("http")||n.append(t,data[t])}));var i=0;data.question_options.filter((function(t){Object.keys(t).filter((function(e){console.log(t[e],Object(r.a)(t[e])),0!==String(t[e]).indexOf("http")&&null!==t[e]&&n.append("question_options[".concat(i,"]").concat(e),t[e])})),i++}));var o=data.id?"/question/".concat(data.id,"/"):"/question/";t.$axios({method:data.id?"PATCH":"POST",url:o,data:n}).then((function(e){t.$notify({message:"Saqlandi",type:"success"}),t.getQuestionOrders(),t.getTest(),t.getSubjectList()})).finally((function(){t.loading=!1}))}else t.$message({message:"Iltimos kerakli maydonlarni to`ldiring",type:"warning"})}))},getSubjectList:function(){var t=this,e=this.$route.params.id;this.$axios.get("/dictionary/subject/?science=".concat(e)).then((function(e){t.subjectList=e.data}))},getQuestionOrders:function(){var t=this,e=this.$route.params.id;this.$axios.get("/question_orders/".concat(e,"/")).then((function(e){t.quesOrders=e.data.order?e.data.order:[]}))},initForm:function(){this.form={language:1,image:"",title:"",content:"",description:"",difficulty_level:1,order:this.form.order,question_options:[{video_answer:"",body:"",description:"",status:!0},{video_answer:"",body:"",description:"",status:!1},{video_answer:"",body:"",description:"",status:!1},{video_answer:"",body:"",description:"",status:!1}]},this.form.language=this.tab}}},v=(n(587),n(14)),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-div"},[n("h1",{staticClass:"Title"},[t._v("Fanlar bo’yicha TEST")]),t._v(" "),n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"parrent-card"},[n("header",{staticClass:"flex items-center"},[n("h1",[t._v("Bilet 24")]),t._v(" "),n("div",{staticClass:"right"},[n("button",{staticClass:"add-btn",on:{click:function(e){return t.save()}}},[t._v("Saqlash")])])]),t._v(" "),n("ul",{staticClass:"seq-list"},t._l(t.test_count,(function(e){return n("li",{key:e,class:{yellow:t.form.order===e,invalid:!t.quesOrders.includes(e),not_invalid:!t.invalid_form,new:!t.quesOrders.includes(e)},on:{click:function(n){return t.change_question(e)}}},[n("div",[t._v(t._s(e))])])})),0),t._v(" "),n("hr",{staticClass:"line-border"}),t._v(" "),n("ValidationObserver",{ref:"add_question"},[n("div",{staticClass:"test-header mt-6"},[n("el-form",{staticClass:"flex w-full"},[n("el-form-item",{attrs:{label:"Mavzuga Biriktirish"}},[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("el-select",{class:{invalid:r[0]},model:{value:t.form.subject,callback:function(e){t.$set(t.form,"subject",e)},expression:"form.subject"}},t._l(t.subjectList,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)]}}])})],1),t._v(" "),n("el-form-item",{staticClass:"ml-3",attrs:{label:"Qiyinlik darajasi"}},[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("el-input-number",{class:{invalid:r[0]},attrs:{min:1,max:4},model:{value:t.form.difficulty_level,callback:function(e){t.$set(t.form,"difficulty_level",e)},expression:"form.difficulty_level"}})]}}])})],1)],1)],1),t._v(" "),n("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.tabClicked},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.dic_language,(function(e){return n("el-tab-pane",{key:e.id,attrs:{name:String(e.id),label:e.name}},[n("div",{staticClass:"test-body"},[n("div",[n("h2",{staticClass:"mb-1"},[t._v("Rasm")]),t._v(" "),n("div",[n("UploadFile",{staticClass:"question-title",attrs:{url:t.form.image},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}})],1)]),t._v(" "),n("div",[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("h2",{staticClass:"mb-1"},[t._v("Sarlavha:")]),t._v(" "),n("el-input",{staticClass:"question-title",class:{invalid:r[0]},attrs:{type:"text"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})]}}],null,!0)})],1),t._v(" "),n("div",[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("h2",{staticClass:"mb-1"},[t._v("Izoh:")]),t._v(" "),n("el-input",{staticClass:"question-title",class:{invalid:r[0]},attrs:{type:"textarea"},model:{value:t.form.description,callback:function(e){t.$set(t.form,"description",e)},expression:"form.description"}})]}}],null,!0)})],1),t._v(" "),n("div",[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[n("h2",{staticClass:"mb-1"},[t._v("Savol:")]),t._v(" "),n("el-input",{staticClass:"question-title",class:{invalid:r[0]},attrs:{type:"textarea"},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})]}}],null,!0)})],1),t._v(" "),n("el-row",{attrs:{gutter:34}},[n("el-col",{attrs:{sm:24}},[n("ul",t._l(t.form.question_options,(function(e,r){return n("li",{key:r},[n("table",{staticClass:"w-full add-ques-table"},[n("thead",[n("tr",[n("td",{staticStyle:{width:"30px"}}),t._v(" "),n("td",[t._v("javob:")]),t._v(" "),n("td",[t._v("gif, video kontent")])])]),t._v(" "),n("tbody",[n("tr",[n("td",[n("el-checkbox",{model:{value:e.status,callback:function(n){t.$set(e,"status",n)},expression:"item.status"}})],1),t._v(" "),n("td",[n("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(r){var o=r.errors;return[n("el-input",{staticClass:"flex-1",class:{invalid:o[0]},attrs:{type:"textarea"},model:{value:e.body,callback:function(n){t.$set(e,"body",n)},expression:"item.body"}})]}}],null,!0)})],1),t._v(" "),n("td",[n("UploadFile",{key:r,model:{value:e.video_answer,callback:function(n){t.$set(e,"video_answer",n)},expression:"item.video_answer"}}),t._v(" "),n("i",{staticClass:"\n                                rm-icon\n                                el-icon-delete\n                                text-red-500 text-lg\n                                ml-1\n                              ",on:{click:function(e){return t.rmVariant(r)}}})],1)])])])])})),0)])],1),t._v(" "),n("div",{staticClass:"pl-7"},[n("el-button",{attrs:{type:"primary",plain:""},on:{click:function(e){return t.pushVariant()}}},[t._v("Yana variant qo’shish")])],1)],1),t._v(" "),n("button",{staticClass:"add-btn mt-6 float-right",on:{click:function(e){return t.save()}}},[t._v("\n            Saqlash\n          ")])])})),1)],1)],1)])}),[],!1,null,"3db8007f",null);e.default=component.exports}}]);