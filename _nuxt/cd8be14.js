(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{500:function(t,e,o){var content=o(584);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(20).default)("62d9562d",content,!0,{sourceMap:!1})},583:function(t,e,o){"use strict";o(500)},584:function(t,e,o){var r=o(19)((function(i){return i[1]}));r.push([t.i,".tree-dropdown .item[data-v-114304a0]{position:relative;display:flex;flex-direction:column}.tree-dropdown .item .main[data-v-114304a0]{background-color:#faf6f6;padding:15px 20px;border:.5px solid #f2f2f2;height:50px;outline:none;margin:3px 0;border-radius:10px;display:flex;align-items:center;flex:1}.tree-dropdown .item .main section[data-v-114304a0]{margin-right:1rem}.tree-dropdown .item .main section i[data-v-114304a0]{transition:all .2s ease-out}.tree-dropdown .item .main section i.rotated[data-v-114304a0]{transform:rotate(-180deg)}.tree-dropdown .item .main span[data-v-114304a0]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tree-dropdown .item .main .options[data-v-114304a0]{margin-left:auto}.tree-dropdown .item .child[data-v-114304a0]{padding:15px 20px;border:.5px solid #f2f2f2;height:50px;outline:none;border-radius:10px;display:flex;align-items:center;flex:1;margin:3px 0 3px 2rem}.tree-dropdown .item .child section[data-v-114304a0]{margin-right:1rem}.tree-dropdown .item .child section i[data-v-114304a0]{transition:all .2s ease-out}.tree-dropdown .item .child section i.rotated[data-v-114304a0]{transform:rotate(-180deg)}.tree-dropdown .item .child span[data-v-114304a0]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.tree-dropdown .item .child .options[data-v-114304a0]{margin-left:auto}",""]),r.locals={},t.exports=r},640:function(t,e,o){"use strict";o.r(e);var r=o(3),n=(o(39),o(9),o(46),o(33),{data:function(){return{add_object_dialog:!1,add_topic_dialog:!1,loading:!1,form:{order:1},form2:{type:"theoretical_hours",status:!0,order:1},tableData:[],data:[],typeTitle:{theoretical_hours:"Nazariy",practical_hours:"Amaliy"}}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.__GET();case 2:case"end":return e.stop()}}),e)})))()},methods:{clearForms:function(){this.form={},this.form2={type:"theoretical_hours",status:!0}},__GET:function(){var t=this,e=this.$route.params.id;return this.$axios("/lesson/?edu_type=".concat(e)).then((function(e){var data=e.data;data.results=e.data.results.filter((function(t){return t.opened=!1,t})),t.data=data}))},save:function(){var t=this;this.$refs.add_object.validate().then((function(e){if(e){t.loading=!0,t.form.edu_type=t.$route.params.id;var o=t.form.id?"PATCH":"POST",r="PATCH"==o?"/lesson/".concat(t.form.id,"/"):"/lesson/";t.$axios({method:o,url:r,data:t.form}).then((function(e){t.$notify({title:"Saqlandi!",type:"success"}),t.__GET(),t.add_object_dialog=!1,t.clearForms()})).catch((function(e){var o=e.response.data,r=o[Object.keys(o)[0]];t.$notify.error({message:r||"Xatolik yuz berdim"})})).finally((function(){t.loading=!1}))}}))},save2:function(){var t=this;this.$refs.add_topic.validate().then((function(e){if(e){t.loading=!0;var o=t.form2.id?"PATCH":"POST",r="PATCH"==o?"/topic/".concat(t.form2.id,"/"):"/topic/";t.$axios({method:o,url:r,data:t.form2}).then((function(e){t.$notify({title:"Saqlandi!",type:"success"}),t.__GET(),t.add_topic_dialog=!1,t.clearForms()})).catch((function(e){var o=e.response.data,r=o[Object.keys(o)[0]];t.$notify.error({message:r||"Xatolik yuz berdi"})})).finally((function(){t.loading=!1}))}}))}}}),l=(o(583),o(14)),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"main-div"},[o("h1",{staticClass:"Title"},[t._v("Mavzular")]),t._v(" "),o("div",{staticClass:"parrent-card"},[o("header",{staticClass:"flex mb-3 items-center"},[o("h1",{staticClass:"mr-auto mt-6"},[t._v("Mavzular ro’yxati")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.clearForms(),t.add_object_dialog=!0}}},[o("i",{staticClass:"el-icon-plus mr-1"}),t._v(" Mavzu qo`shish")])],1),t._v(" "),o("div",{staticClass:"tree-dropdown"},t._l(t.data.results,(function(e){return o("div",{directives:[{name:"ripple",rawName:"v-ripple"}],key:e.id,staticClass:"item"},[o("div",{staticClass:"main"},[o("section",{on:{click:function(t){e.opened=!e.opened}}},[o("i",{staticClass:"el-icon-arrow-down",class:{rotated:e.opened}})]),t._v(" "),o("span",{staticClass:"flex-1",on:{click:function(t){e.opened=!e.opened}}},[t._v(t._s(e.name_uz)+"\n            "),o("el-tag",{staticClass:"ml-2"},[t._v(t._s(e.topic?"+"+e.topic.length:0))])],1),t._v(" "),o("button",{staticClass:"options"},[o("el-dropdown",{attrs:{trigger:"click"}},[o("span",{staticClass:"el-dropdown-link"},[o("i",{staticClass:"el-icon-more"})]),t._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{icon:"el-icon-edit"},nativeOn:{click:function(o){t.add_object_dialog=!0,t.form=e}}},[t._v("O’zgartirish")]),t._v(" "),o("el-dropdown-item",{attrs:{icon:"el-icon-circle-plus-outline"},nativeOn:{click:function(o){t.add_topic_dialog=!0,t.form2.lesson=e.id}}},[o("span",[t._v("Mavzu qo’shish")])]),t._v(" "),o("el-dropdown-item",{attrs:{icon:"el-icon-info"}},[t._v("Batafsil")])],1)],1)],1)]),t._v(" "),e.opened?t._l(e.topic,(function(e){return o("div",{key:e.id,staticClass:"child"},[t._m(0,!0),t._v(" "),o("span",[t._v(t._s(e.name_uz)+"\n              "),o("el-tag",{staticClass:"ml-2"},[t._v("+"+t._s(e.hours))]),t._v(" "),o("el-tag",{staticClass:"ml-2",attrs:{type:"theoretical_hours"==e.type?"success":"warning"}},[t._v(t._s(t.typeTitle[e.type]))])],1),t._v(" "),o("button",{staticClass:"options"},[o("el-dropdown",{attrs:{trigger:"click"}},[o("span",{staticClass:"el-dropdown-link"},[o("i",{staticClass:"el-icon-more"})]),t._v(" "),o("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[o("el-dropdown-item",{attrs:{icon:"el-icon-circle-plus-outline"},nativeOn:{click:function(o){return t.$router.push("/content/addContent/"+e.id)}}},[o("span",[t._v("Mavzuga ma’lumot qo’shish")])]),t._v(" "),o("el-dropdown-item",{attrs:{icon:"el-icon-edit"},nativeOn:{click:function(o){t.add_topic_dialog=!0,t.form2=e}}},[t._v("O’zgartirish")]),t._v(" "),o("el-dropdown-item",{attrs:{icon:"el-icon-info"},nativeOn:{click:function(o){return t.$router.push("/lessons/"+e.id+"/view")}}},[t._v("Batafsil")]),t._v(" "),o("el-dropdown-item",{attrs:{icon:"el-icon-top"}},[t._v("Tepaga ko’tarish")]),t._v(" "),o("el-dropdown-item",{attrs:{icon:"el-icon-bottom"}},[t._v("Pastga tushirish")])],1)],1)],1)])})):t._e()],2)})),0)]),t._v(" "),o("el-dialog",{attrs:{title:"Mavzu qo’shish",visible:t.add_object_dialog,width:"max(35%, 300px)","close-on-click-modal":!1,center:""},on:{"update:visible":function(e){t.add_object_dialog=e}}},[o("ValidationObserver",{ref:"add_object"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-item"},[o("p",[t._v("Darslikning nomlanishi - O’zbek tilida")]),t._v(" "),o("el-input",{class:{invalid:r[0]},model:{value:t.form.name_uz,callback:function(e){t.$set(t.form,"name_uz",e)},expression:"form.name_uz"}})],1)]}}])}),t._v(" "),o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-item"},[o("p",[t._v("Darslikning nomlanishi - Rus tilida")]),t._v(" "),o("el-input",{class:{invalid:r[0]},model:{value:t.form.name_ru,callback:function(e){t.$set(t.form,"name_ru",e)},expression:"form.name_ru"}})],1)]}}])}),t._v(" "),t.form.id?t._e():o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-item"},[o("p",[t._v("Tanlangan mavzudan keyinga joylashadi")]),t._v(" "),o("el-select",{staticClass:"w-full",class:{invalid:r[0]},model:{value:t.form.order,callback:function(e){t.$set(t.form,"order",e)},expression:"form.order"}},[o("el-option",{attrs:{label:"Eng boshida",value:0}}),t._v(" "),t._l(t.data.results,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name_uz,value:t.order}})}))],2)],1)]}}],null,!1,3408108306)})],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.add_object_dialog=!1}}},[t._v("Bekor qilish")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save()}}},[t._v("Saqlash")])],1)],1),t._v(" "),o("el-dialog",{attrs:{title:"Yangi mavzu qo’shish",visible:t.add_topic_dialog,width:"max(35%, 300px)",center:"","close-on-click-modal":!1},on:{"update:visible":function(e){t.add_topic_dialog=e}}},[o("ValidationObserver",{ref:"add_topic"},[o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-item"},[o("p",[t._v("Joriy mavzu nomi")]),t._v(" "),o("el-select",{staticClass:"w-full",class:{invalid:r[0]},model:{value:t.form2.lesson,callback:function(e){t.$set(t.form2,"lesson",e)},expression:"form2.lesson"}},t._l(t.data.results,(function(t){return o("el-option",{key:t.id,attrs:{label:t.name_uz,value:t.id}})})),1)],1)]}}])}),t._v(" "),o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-item"},[o("p",[t._v("Darslikning nomlanishi - O’zbek tilida")]),t._v(" "),o("el-input",{class:{invalid:r[0]},model:{value:t.form2.name_uz,callback:function(e){t.$set(t.form2,"name_uz",e)},expression:"form2.name_uz"}})],1)]}}])}),t._v(" "),o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-item"},[o("p",[t._v("Darslikning nomlanishi - Rus tilida")]),t._v(" "),o("el-input",{class:{invalid:r[0]},model:{value:t.form2.name_ru,callback:function(e){t.$set(t.form2,"name_ru",e)},expression:"form2.name_ru"}})],1)]}}])}),t._v(" "),o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-item"},[o("p",[t._v("Soatlar soni")]),t._v(" "),o("el-input",{class:{invalid:r[0]},attrs:{type:"number"},model:{value:t.form2.hours,callback:function(e){t.$set(t.form2,"hours",e)},expression:"form2.hours"}})],1)]}}])}),t._v(" "),o("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-item"},[o("p",[t._v("Status")]),t._v(" "),o("el-select",{staticClass:"w-full",class:{invalid:r[0]},model:{value:t.form2.status,callback:function(e){t.$set(t.form2,"status",e)},expression:"form2.status"}},[o("el-option",{attrs:{value:!0,label:"Aktiv"}},[t._v("Aktiv")]),t._v(" "),o("el-option",{attrs:{value:!1,label:"Aktiv emas"}},[t._v("Aktiv emas")])],1)],1)]}}])}),t._v(" "),o("ValidationProvider",{attrs:{rules:"required"}},[o("div",{staticClass:"form-item"},[o("p",[t._v("Mashg’ulot turi")]),t._v(" "),[o("el-radio",{attrs:{label:"theoretical_hours"},model:{value:t.form2.type,callback:function(e){t.$set(t.form2,"type",e)},expression:"form2.type"}},[t._v("Nazariy")]),t._v(" "),o("el-radio",{attrs:{label:"practical_hours"},model:{value:t.form2.type,callback:function(e){t.$set(t.form2,"type",e)},expression:"form2.type"}},[t._v("Amaliy")])]],2)])],1),t._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){t.add_topic_dialog=!1}}},[t._v("Bekor qilish")]),t._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.save2()}}},[t._v("Saqlash")])],1)],1)],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("section",[e("i",{staticClass:"el-icon-arrow-down"})])}],!1,null,"114304a0",null);e.default=component.exports}}]);